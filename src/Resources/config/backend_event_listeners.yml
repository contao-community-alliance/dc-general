services:
    cca.dc-general.backend_listener.extended_legacy_dca_populator:
        class: ContaoCommunityAlliance\DcGeneral\Contao\Dca\Populator\ExtendedLegacyDcaPopulator
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.factory.populate-environment, method: process, priority: 100 }

    cca.dc-general.backend_listener.backend_view_populator:
        class: ContaoCommunityAlliance\DcGeneral\Contao\Dca\Populator\BackendViewPopulator
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.factory.populate-environment, method: process, priority: 100 }

    cca.dc-general.backend_listener.picker_compat_populator:
        class: ContaoCommunityAlliance\DcGeneral\Contao\Dca\Populator\PickerCompatPopulator
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.factory.populate-environment, method: process, priority: -10000 }

    cca.dc-general.backend_listener.format_model_label_subscriber:
        class: ContaoCommunityAlliance\DcGeneral\Contao\Subscriber\FormatModelLabelSubscriber
        public: true
        calls:
            - method: setScopeDeterminator
              arguments:
                  - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.model.format_model_label, method: handleFormatModelLabel }

    cca.dc-general.backend_listener.get_group_header_subscriber:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\Subscriber\GetGroupHeaderSubscriber
        public: true
        arguments:
            - "@event_dispatcher"
            - "@cca.translator.contao_translator"
        calls:
            - method: setScopeDeterminator
              arguments:
                  - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.view.contao2backend.get-group-header, method: handle }

    cca.dc-general.backend_listener.widget_builder:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\Subscriber\WidgetBuilder
        public: true
        arguments:
            - "@cca.dc-general.environment"
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.view.contao2backend.build-widget, method: handleEvent }

    cca.dc-general.backend_listener.color_picker_wizard_subscriber:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\Subscriber\ColorPickerWizardSubscriber
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.view.contao2backend.build-widget, method: handleEvent }

    cca.dc-general.backend_listener.paste_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\PasteHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.create_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\CreateHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.edit_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\EditHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.select_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\SelectHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.copy_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\CopyHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.delete_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\DeleteHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.toggle_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\ToggleHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.list_view_show_all_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\ListViewShowAllHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.parent_list_view_show_all_handler:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\ActionHandler\ParentedListViewShowAllHandler
        public: true
        arguments:
            - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.action, method: handleEvent }

    cca.dc-general.backend_listener.backend_button_listener:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\EventListener\BackButtonListener
        public: true
        calls:
            - method: setScopeDeterminator
              arguments:
                  - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.view.contao2backend.get-global-button, method: handle }

    cca.dc-general.backend_listener.create_model_button_listener:
        class: ContaoCommunityAlliance\DcGeneral\Contao\View\Contao2BackendView\EventListener\CreateModelButtonListener
        public: true
        calls:
            - method: setScopeDeterminator
              arguments:
                  - "@cca.dc-general.scope-matcher"
        tags:
            - { name: kernel.event_listener, event: dc-general.view.contao2backend.get-global-button, method: handle }
